{% extends "layout.html" %}

{% block head %}

    <!-- bootstrap 4.x is supported. You can also use the bootstrap css 3.3.x versions -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.9/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
    <!-- if using RTL (Right-To-Left) orientation, load the RTL CSS file after fileinput.css by uncommenting below -->
    <!-- link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.9/css/fileinput-rtl.min.css" media="all" rel="stylesheet" type="text/css" /-->
    <!-- the font awesome icon library if using with `fas` theme (or Bootstrap 4.x). Note that default icons used in the plugin are glyphicons that are bundled only with Bootstrap 3.x. -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
    <!-- piexif.min.js is needed for auto orienting image files OR when restoring exif data in resized images and when you
        wish to resize images before upload. This must be loaded before fileinput.min.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.9/js/plugins/piexif.min.js" type="text/javascript"></script>
    <!-- sortable.min.js is only needed if you wish to sort / rearrange files in initial preview. 
        This must be loaded before fileinput.min.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.9/js/plugins/sortable.min.js" type="text/javascript"></script>
    <!-- purify.min.js is only needed if you wish to purify HTML content in your preview for 
        HTML files. This must be loaded before fileinput.min.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.9/js/plugins/purify.min.js" type="text/javascript"></script>
    <!-- popper.min.js below is needed if you use bootstrap 4.x (for popover and tooltips). You can also use the bootstrap js 
    3.3.x versions without popper.min.js. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <!-- bootstrap.min.js below is needed if you wish to zoom and preview file content in a detail modal
        dialog. bootstrap 4.x is supported. You can also use the bootstrap js 3.3.x versions. -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <!-- the main fileinput plugin file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.9/js/fileinput.min.js"></script>
    <!-- following theme script is needed to use the Font Awesome 5.x theme (`fas`) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.9/themes/fas/theme.min.js"></script>
    <!-- optionally if you need translation for your language then include the locale file as mentioned below (replace LANG.js with your language locale) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.9/js/locales/LANG.js"></script>

    <link href="/static/shop.css" rel="stylesheet">
    <link href="/static/layout.css" rel="stylesheet">


{% endblock %}

{% block body %}
    <h2 class="text-center" style="color:red;">{{ msg }}</h2>
    <div class="row justify-content-md-center mt-4">
        <div class="col-md-8">
            <h2 class="mb-4 display-4 text-center">Watch details</h2>
                <div class="col-md-12 mx-md-auto">
                <form action="/sell" method="post" enctype="multipart/form-data" class="mx-auto">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10  mx-md-auto">
                                <b class="my-0">Brand:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <select name="brand" class="form-control" id="exampleFormControlSelect1" required>
                                    <option value="" selected disabled>Please choose</option>
                                    {% for el in watchBrands %}
                                        <option value="{{ el }}">{{ el }}</option>   
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10 mx-md-auto">
                                <b class="my-0">Model:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <input name="model" type="text" class="form-control" id="inputM" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10 mx-md-auto">
                                <b class="my-0">Category:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <select name="category" class="form-control" id="exampleFormControlSelect1">
                                    <option>Other</option>
                                    <option>Smartwatch</option>
                                    <option>Chronograph</option>
                                    <option>GMT watch</option>
                                    <option>Diver's watch</option>
                                    <option>Pilot watch</option>
                                    <option>Casual</option>
                                    <option>Dress watch</option>
                                    <option>Other</option>               
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10 mx-md-auto">
                                <b class="my-0">Condition:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <select name="condition" class="form-control" id="exampleFormControlSelect1" required>
                                    <option value="" selected disabled>Please choose</option>
                                    <option>Unworn (Mint condition, without signs of wear) </option>
                                    <option>Good (Light signs of wear or scratches)</option>
                                    <option>Fair (Obvious signs of wear or scratches)</option>
                                    <option>Poor (Heavy signs of wear or scratches)</option>
                                    <option>Incomplete (Components missing, non-functional)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10 mx-md-auto">
                                <b class="my-0">Gender:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <select name="gender" class="form-control" id="exampleFormControlSelect1" required>
                                    <option value="" selected disabled>Please choose</option>
                                    <option>Men's watch/Unisex</option>
                                    <option>Women's watch</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10 mx-md-auto">
                                <b class="my-0">Year:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <input name="year" type="number" class="form-control" id="inputM" min="1500" max="2050">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10 mx-md-auto">
                                <b class="my-0">Movement:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <select name="movement" class="form-control" id="exampleFormControlSelect1" required>
                                    <option value="" selected disabled>Please choose</option>
                                    <option>Automatic</option>
                                    <option>Manual winding</option>
                                    <option>Quartz</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10 mx-md-auto">
                                <b class="my-0">Price:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <input name="price" type="number" class="form-control" id="inputM" required>
                            </div>
                        </div>
                    </div>
                                    
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10 mx-md-auto">
                                <b class="my-0">Description:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <textarea name="description" class="form-control" id="exampleFormControlTextarea1" rows="5"></textarea>
                            </div>
                        </div>
                    </div>       

                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-10 mx-md-auto">
                                <b class="my-0">Location:</b>
                            </div>
                            <div class="col-md-10 mx-md-auto">
                                <input name="location" type="text" class="form-control" id="inputM" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="file-loading">
                        <input id="input-fas" name="input-fas[]" type="file" accept="image/x-png,image/gif,image/jpeg" multiple required>
                    </div>


                    <div class="container">
                        <button type="submit" class="btn btn-primary float-right my-4">Save details and continue</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <script>
        // initialize with defaults
        $("#input-id").fileinput();
        
        // with plugin options
        $("#input-id").fileinput({'showUpload':false, 'previewFileType':'any'});
    </script>

    <script>
    $("#input-fas").fileinput({
        theme: "fas",
        // uploadUrl: "/file-upload-batch/2"
    });
    </script>
    <!-- <script src="//code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="/static/jquery.imageuploader.js"></script> -->
    <!-- <script src="{{ url_for('static', filename='dist/bundle.js') }}"></script>
    <script> 
  
        var options = {};
        $('.js-uploader__box').uploader(options);
        var options = {
            instructionsCopy: 'Drag and Drop, or',
            furtherInstructionsCopy: 'Your can also drop more files, or',
            selectButtonCopy: 'Select Files',
            secondarySelectButtonCopy: 'Select More Files',
            dropZone: $(this),
            fileTypeWhiteList: ['jpg', 'png', 'jpeg', 'gif'],
            badFileTypeMessage: 'Sorry, we\'re unable to accept this type of file.',
            ajaxUrl: '/ajax/upload',
            testMode: false
        };
        
        $(function(){
            $("input[type='submit']").click(function(){
                var $fileUpload = $("input[type='file']");
                if (parseInt($fileUpload.get(0).files.length)>3){
                alert("You can only upload a maximum of 3 images");
                }
            });    
        });​
    </script> -->

    <!-- <script>
        $("#input-fa").fileinput({
            theme: "fa",
            uploadUrl: "/sell"
        });
    </script>

    <script>

    /*  ==========================================
        SHOW UPLOADED IMAGE
    * ========================================== */
    let next = 0
    function readURL(input) {
        console.log(input.files[0])
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            if (next == 0) {
                reader.onload = function (e) {
                $('#imageResult')
                    .attr('src', e.target.result);
            };
            reader.readAsDataURL(input.files[0]);
            }
            // else if (next == 1) {
            //     reader.onload = function (e) {
            //     $('#imageResult2')
            //         .attr('src', e.target.result);
            // };
            // reader.readAsDataURL(input.files[0]);
            // }
            // else {
            //     reader.onload = function (e) {
            //     $('#imageResult3')
            //         .attr('src', e.target.result);
            // };
            // reader.readAsDataURL(input.files[0]);
            // } 
            // next == 2 ? next = 0 : next++;
            // console.log(next)         
        }
    }

    $(function () {
        $('#upload').on('change', function () {
            readURL(input);
        });
    });

    /*  ==========================================
        SHOW UPLOADED IMAGE NAME
    * ========================================== */
    var input = document.getElementById( 'upload' );
    var infoArea = document.getElementById( 'upload-label' );

    input.addEventListener( 'change', showFileName );
    function showFileName( event ) {
        var input = event.srcElement;
        var fileName = input.files[0].name;
        infoArea.textContent = 'File name: ' + fileName;
    }
    </script> -->

{% endblock %}

